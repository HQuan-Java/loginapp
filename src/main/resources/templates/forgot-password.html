<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Quên mật khẩu</title>
    <link rel="stylesheet" th:href="@{/css/forgot-password.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="d-flex justify-content-center align-items-center vh-100 bg-light">
<div class="text-center mb-4">
    <img th:src="@{/images/logoTcom.svg}" alt="Logo" class="mb-3">
</div>
<div class="card forgot-password-card">
    <form action="/forgot-password" method="POST">
        <h5 class="text-center">Vui lòng nhập địa chỉ email đã đăng ký của bạn</h5>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Nhập email" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Đặt lại mật khẩu</button>
        <a href="/login" class="btn-login d-block">Đăng nhập</a>
    </form>
</div>
    <!-- Modal thông báo thành công -->
    <div class="modal" tabindex="-1" id="successModal" th:if="${message}">
        <div class="modal-dialog">
            <div class="modal-content text-center p-4">
                <!-- Icon thành công -->
                <div class="checkmark-container">
                    <span class="checkmark-icon">&#10004;</span>
                </div>
                <!-- Tiêu đề -->
                <h5 class="modal-title text-success mt-3">Thành công</h5>
                <!-- Nội dung -->
                <div class="modal-body px-4">
                    <p class="text-muted" th:text="${message}">
                        Chúng tôi đã gửi cho bạn liên kết đặt lại mật khẩu qua email của bạn.
                    </p>
                </div>
                <!-- Nút Đăng nhập -->
                <div>
                    <a href="/login" class="btn btn-primary w-100">Đăng nhập</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal thông báo lỗi -->
    <div class="modal" tabindex="-1" id="errorModal" th:if="${error}">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Lỗi!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p th:text="${error}">Email không tồn tại trong hệ thống.</p>
                </div>
                <div class="modal-footer">
                    <a href="/login" class="btn btn-primary w-100">Đăng nhập</a>
                </div>
            </div>
        </div>
    </div>

<script>
    // Hiển thị modal nếu có thông báo thành công hoặc lỗi
    window.onload = function() {
        var successModal = document.getElementById('successModal');
        var errorModal = document.getElementById('errorModal');

        if(successModal) {
            var modal = new bootstrap.Modal(successModal);
            modal.show();
        }

        if(errorModal) {
            var modal = new bootstrap.Modal(errorModal);
            modal.show();
        }
    };
</script>
</body>
</html>
